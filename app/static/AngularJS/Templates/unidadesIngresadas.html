<link href="css/ordenesCompra.css" rel="stylesheet" />
<div ng-init="init()">
    <!--Page Title-->
    <div id="page-title">
        <h1 class="page-header text-overflow">Unidades Ingresadas</h1>
    </div>
    <!--End page title-->
    <!--Page content-->
    <div id="page-content">
        <div class="panel">
            <div class="panel-heading">
                <h3 class="panel-title">Filtros</h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-12">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <div>
                                    <label class="col-sm-1 control-label">Empresa:</label>
                                    <div class="col-sm-3">
                                        <select class="selectpicker" data-live-search="false" data-width="100%" ng-model="empresa" ng-change="getSucursales()">
                                            <option value="">Seleccione Empresa</option>
                                            <option ng-repeat="empresa in empresas" value="{{empresa.idEmpresa}}">{{empresa.nombre}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div ng-show="muestraAgencia">
                                    <label class="col-sm-1 control-label">Agencia:</label>
                                    <div class="col-sm-3">
                                        <select class="selectpicker" data-live-search="false" data-width="100%" ng-model="sucursal" ng-change="getUnidadesIngresadas()">
                                            <option value="">Seleccione la Agencia</option>
                                            <option ng-repeat="agencia in agencias" value="{{agencia.idSucursal}}">{{agencia.nombre}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-sm-12" ng-show="tablaUnidaddes">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered unidaddesIngresadas" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th class="text-top"># de Inverntario</th>
                                        <th class="text-top">Catalogo</th>
                                        <th class="text-top">Tipo Auto
                                            <br/> <span class="filtrosSelect"></span></th>
                                        <th class="text-top">Modelo</th>
                                        <th class="text-top"># de Serie
                                            <br/> <span class="filtrosSelect"></span></th>
                                        <th>Seleccionar</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="unidad in unidades">
                                        <td>{{unidad.numeroInventario}}</td>
                                        <td>{{unidad.catalogo}}</td>
                                        <td>{{unidad.tipoAuto}}</td>
                                        <td>{{unidad.modelo}}</td>
                                        <td>{{unidad.numeroSerie}}</td>
                                        <td class="text-center">
                                            <!-- <input type="checkbox" class="icheckbox_square-green iradio_square-green" ng-model="unidad.seleccionada"> -->
                                            <div class="checkbox">
                                                <input id="prueba{{unidad.numeroSerie}}" class="magic-checkbox" type="checkbox" ng-model="unidad.seleccionada">
                                                <label for="prueba{{unidad.numeroSerie}}"></label>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <button class="btn btn-info pull-right" ng-click="enviarNotificacion()">Petici√≥n Unidad(es) Disponibles</button>
                    </div>
                </div>
            </div>
        </div>
        <!--End page content-->
    </div>
</div>
<!--Modal para colocars el numero del punteo-->
<!--===================================================-->
<div class="modal fade" id="punteoDetalle" role="dialog" tabindex="-1" aria-labelledby="demo-default-modal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header label-primary">
                <button type="button" class="close" data-dismiss="modal"><i class="pci-cross pci-circle text-white"></i></button>
                <h4 class="modal-title text-white">Ordenes de Compra</h4>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered ordenesCompra" cellspacing="0">
                        <thead>
                            <tr>
                                <th class="text-top">Operacion</th>
                                <th class="text-top">Tipo</th>
                                <th class="text-top">Fecha</th>
                                <th class="text-top">Estatus <span class="filtrosSelect"></span></th>
                                <th class="text-top">Proveedor <span class="filtrosSelect"></span></th>
                                <th class="text-top">Empresa</th>
                                <th class="text-top">Sucursal</th>
                                <th class="text-top">Departamento <span class="filtrosSelect"></span></th>
                                <th class="text-top">Nodo <span class="filtrosSelect"></span></th>
                                <th class="text-top">Importe</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="orden in ordenes">
                                <td>{{orden.Folio_Operacion}}</td>
                                <td>{{orden.tipoorden}}</td>
                                <td>{{orden.oce_fechaorden | date : "dd/MM/yyyy"}}</td>
                                <td>{{orden.situacionOrden}}</td>
                                <td>{{orden.Proveedor}}</td>
                                <td>{{orden.empNombre}}</td>
                                <td>{{orden.sucursal}}</td>
                                <td>{{orden.depto}}</td>
                                <td>{{orden.nodoactual}}</td>
                                <td>{{orden.oce_importetotal | currency}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!--===================================================-->
<!--End Modal para colocar el numero del punteo-->